!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t){$(document).ready((function(){function e(){jQuery((function(e){function t(){e(".image-container img").each((function(){var t=e(this),n=t.get(0),i=t.parents(".image-container");n.complete?a():t.one("load",a);function a(){if(1<n.width/n.height){t.width("100%");var e=n.width+"px";t.height("auto"),i.height(e)}else{t.width("100%"),t.height("auto");e=n.width+"px";t.height(e),t.width("auto"),i.height(e)}}e(n).ready((function(){a()}))}))}e(window).on("resize",t),t()}))}function t(){jQuery((function(e){function t(){e(".image-container-description img").each((function(){var t=e(this),n=t.get(0),i=t.parents(".image-container-description");n.complete?a():t.one("load",a);function a(){i.width()/i.height()<n.width/n.height?(t.width("100%"),t.height("auto")):(t.height("100%"),t.width("auto"))}e(n).ready((function(){a()}))}))}e(window).on("resize",t),t()}))}function n(e){var t=document.getElementById("category-body");t.innerHTML="";for(var n=0;n<e.length+4;n+=4){for(var i='<div class="row col-11">',a=0;a<4;a++)n+a<e.length&&(i+='<div class="item col-11 col-sm-5 col-md-5 col-lg-2 col-xl-2"><div class="image-container"><img class="image" src="'+e[n+a].image_url+'"></div><a class="item_name" target="_blank">'+e[n+a].name+"</a><br>",null!=e[n+a].special_price?(i+='<div class="old price">'+e[n+a].price+'</div><div class="current price">'+e[n+a].special_price+"</div>",i+='<br><button class="button buy" data-id="'+e[n+a].id+'" data-name="'+e[n+a].name+'" data-amount="1" data-price="'+e[n+a].special_price+'"data-image="'+e[n+a].image_url+'">Add</button></div>'):(i+='<div class="current price">'+e[n+a].price+"</div>",i+='<br><button class="button buy" data-id="'+e[n+a].id+'" data-name="'+e[n+a].name+'" data-amount="1" data-price="'+e[n+a].price+'"data-image="'+e[n+a].image_url+'">Add</button></div>'));i+="</div>",t.innerHTML+=i}}$.ajax({url:"https://nit.tron.net.ua/api/category/list",method:"GET",dataType:"json",success:function(e){var t=document.getElementById("menu-list-body");e.forEach((function(e){var n='<div class="menu-list-item" id ="'+e.id+'">'+e.name+"</div>";t.innerHTML+=n}))}}),$.ajax({url:"https://nit.tron.net.ua/api/product/list",method:"GET",dataType:"json",success:function(t){n(t),e()}}),$(document).on("click",".menu-list-item",(function(t){if(document.querySelector(".image-menu").click(),0==t.target.id)document.getElementById("category").innerHTML="All Categories";else{var i="https://nit.tron.net.ua/api/category/"+t.target.id;$.ajax({url:i,method:"GET",dataType:"json",success:function(e){document.getElementById("category").innerHTML=e.name+'<div class="category-description">'+e.description+"</div>"}})}i="https://nit.tron.net.ua/api/product/list/category/"+t.target.id;0==t.target.id&&(i="https://nit.tron.net.ua/api/product/list"),$.ajax({url:i,method:"GET",dataType:"json",success:function(t){n(t),e()}})}));var i=0,a=0,r=0;$(document).on("click",".checkout-info",(function(e){"Name"==e.target.name&&i++,1==i&&(e.target.value=""),"Number"==e.target.name&&a++,1==a&&(e.target.value=""),"Email"==e.target.name&&r++,1==r&&(e.target.value="")})),$(document).on("click",".checkout",(function(e){if(0==Number(document.getElementById("cart_price").innerHTML));else{e.target.parentElement.parentElement.parentElement.childNodes[3].childNodes;for(var t="",n=0;n<c.length-1;n++)t+="products["+c[n].id+"]="+c[n].Amount+"&";t+="products["+c[c.length-1].id+"]="+c[c.length-1].Amount;var i="token=OfSlGGTlMq8kk0F8Jbxi&name="+document.getElementById("checkout-info-name").value+"&phone="+document.getElementById("checkout-info-phone").value+"&email="+document.getElementById("checkout-info-email").value+"&"+t;$.ajax({url:"https://nit.tron.net.ua/api/order/add",type:"POST",data:i,dataType:"json",success:function(e,t){"error"!=e.status?(document.getElementById("shopping-cart-body").innerHTML='<h1 style="color:#888;font-size: 25px;font-style: italic;">Empty</h1>',c=[],document.getElementById("cart_price").innerHTML=0,document.getElementById("checkout").innerHTML=0,m(),y()):(null!=e.errors.products&&alert("Sorry, some products had ended"),null!=e.errors.email&&alert("Wrong email"),null!=e.errors.name&&alert("Wrong name"),null!=e.errors.phone&&alert("Wrong phone"),null!=e.errors.token&&alert("Wrong token"))},error:function(){alert("error")}})}}));var c=[];function o(e,t,n,i,a){var r={};if(r.Image=e,r.Name=t,r.Amount=n,r.Price=i,r.id=a,r.Name.length>50){r.Name="";for(var o=0;o<50;o++)r.Name+=t[o]}r.Name+="...";var d=!0;for(var s in c)if(c[s].Name==r.Name){c[s].Amount+=r.Amount,document.getElementById("shopping-cart-body").childNodes[Number(s)+1].childNodes[2].childNodes[0].click(),d=!1;break}d&&(c.push(r),function(){var e=document.getElementById("shopping-cart-body"),t=Number(document.getElementById("checkout").innerHTML),n=Number(document.getElementById("cart_price").innerHTML),i=c.length-1,a='<div class="item-cart" id ="'+c[i].id+'"><div class="image-container-cart"><div class="image-s"><img src="'+c[i].Image+'" /></div></div><div class="description">'+c[i].Name+'</div><div class="quantity"><div class="btn-plus" >+</div><div class = "quantity_number" id="quantity">'+c[i].Amount+'</div><div class="btn-minus">-</div></div><div class="total-item-price">'+c[i].Price+"</div></div>";'<h1 style="color:#888;font-size: 25px;font-style: italic;">Empty</h1>'==e.innerHTML&&(e.innerHTML=" "),e.innerHTML=e.innerHTML+a,t+=c[i].Price*c[i].Amount,n+=c[i].Amount,document.getElementById("cart_price").innerHTML=n,document.getElementById("checkout").innerHTML=t}())}$(document).on("click",".buy",(function(){event.preventDefault();var e=$(this).data("name"),t=Number($(this).data("amount")),n=Number($(this).data("price"));o($(this).data("image"),e,t,n,Number($(this).data("id")))})),$(document).on("click",".image-menu",(function(){var e=document.querySelector(".menu-list");"hidden"==getComputedStyle(e).visibility?$(".menu-list").css({visibility:"visible"}):$(".menu-list").css({visibility:"hidden"})})),$(document).on("click",".image-eye",(function(e){for(var n=e.target.parentElement.childNodes[0],i=e.target;"modal-content modal-content-item"!=i.className;)i=i.parentElement;var a=$(i.childNodes[2].childNodes[i.childNodes[2].childNodes.length-1]).data("id"),r=document.getElementById("modal-item");r.innerHTML='<span class="close-button" id="close-button2">&times;</span>',$.ajax({url:"https://nit.tron.net.ua/api/product/"+a,method:"GET",dataType:"json",success:function(i){if(e.target.parentElement.childNodes[0]="",n.length<=263)n=i.description;else{n="";for(var a=0;a<260;a++)n+=i.description[a];n+="..."}null!=i.special_price?r.innerHTML+='<div class="image-container-description"><img class="image2 image-description"  src="'+i.image_url+'"></div><div style="position: inherit; margin-left: 35%;width:45%;" class="item-description-body"><a class="item_name item_name_description" style="font-weight: bold;" target="_blank">'+i.name+'</a><br><div class="category-description" style="margin-left: 5%;margin-bottom:5%;">'+n+'<img class="image-eye" src="./dist/img/eye.png"></div><div class="old price">'+i.price+'</div><div class="current price">'+i.special_price+'</div><br><button class="button buy" data-name="'+i.name+'" data-amount="1" data-price="'+i.special_price+'" data-image="'+i.image_url+'" data-id="'+i.id+'" >Add</button></div></div>':r.innerHTML+='<div class="image-container-description"><img class="image2 image-description"  src="'+i.image_url+'"></div><div style="position: inherit; margin-left: 35%;width:45%;" class="item-description-body"><a class="item_name item_name_description" style="font-weight: bold;" target="_blank">'+i.name+'</a><br><div class="category-description" style="margin-left: 5%;margin-bottom:5%">'+n+'<img class="image-eye" src="./dist/img/eye.png"></div><div class="current price">'+i.price+'</div><br><button class="button buy" data-name="'+i.name+'" data-amount="1" data-price="'+i.price+'" data-image="'+i.image_url+'" data-id="'+i.id+'" >Add</button></div>',t(),(g=document.getElementById("close-button2")).addEventListener("click",p)}})}));var d=document.querySelector(".modal-a"),s=document.querySelector(".image-cart"),l=document.getElementById("close-button");function m(){d.classList.toggle("show-modal"),jQuery((function(e){function t(){e(".image-container-cart img").each((function(){var t=e(this),n=t.get(0),i=t.parents(".image-container-cart");function a(){if(1<n.width/n.height){t.width("100%");var e=n.width+"px";t.height("auto"),i.height(e)}else t.width("100%"),t.height("auto"),e=n.width,t.height(e+"px"),t.width("auto")}n.complete?a():t.one("load",a),e(n).ready((function(){a()}))}))}e(window).on("resize",t),t()})),h()}s.addEventListener("click",m),l.addEventListener("click",m),window.addEventListener("click",(function(e){e.target===d&&m(),e.target===u&&p(),e.target===v&&y()}));var u=document.querySelector(".modal-item"),g=document.getElementById("close-button2");function p(){u.classList.toggle("show-modal"),h()}function h(){$(".header_down").width();var e=$(".header_main").width();""==$(document.body).attr("class")?($(document.body).addClass("modal-open"),$(".category-body").css({"padding-right":"17px"}),$(".header_main").css({width:e})):($(document.body).removeClass("modal-open"),$(".category-body").css({"padding-right":"0px"}),$(".header_main").css({width:"100%"}))}g.addEventListener("click",p);var v=document.querySelector(".modal-success");function y(){v.classList.toggle("show-modal"),h()}document.getElementById("close-button3").addEventListener("click",y),$(document).on("click",".item",(function(e){if("button buy"!=e.target.className){var n=document.getElementById("modal-item");n.innerHTML="";for(var i=e.target;"item col-11 col-sm-5 col-md-5 col-lg-2 col-xl-2"!=i.className;)i=i.parentElement;var a=$(i.childNodes[i.childNodes.length-1]).data("id");$.ajax({url:"https://nit.tron.net.ua/api/product/"+a,method:"GET",dataType:"json",success:function(e){n.innerHTML+='<span class="close-button" id="close-button2">&times;</span>';var i=e.description;if(i.length>263){i="";for(var a=0;a<260;a++)i+=e.description[a];i+="..."}null!=e.special_price?n.innerHTML+='<div class="image-container-description"><img class="image2 image-description"  src="'+e.image_url+'"></div><div style="position: inherit; margin-left: 35%;width:45%;" class="item-description-body"><a class="item_name item_name_description" style="font-weight: bold;" target="_blank">'+e.name+'</a><br><div class="category-description" style="margin-left: 5%;margin-bottom:5%;">'+i+'<img class="image-eye" src="./dist/img/eye.png"></div><div class="old price">'+e.price+'</div><div class="current price">'+e.special_price+'</div><br><button class="button buy" data-name="'+e.name+'" data-amount="1" data-price="'+e.special_price+'" data-image="'+e.image_url+'" data-id="'+e.id+'" >Add</button></div></div>':n.innerHTML+='<div class="image-container-description"><img class="image2 image-description"  src="'+e.image_url+'"></div><div style="position: inherit; margin-left: 35%;width:45%;" class="item-description-body"><a class="item_name item_name_description" style="font-weight: bold;" target="_blank">'+e.name+'</a><br><div class="category-description" style="margin-left: 5%;margin-bottom:5%">'+i+'<img class="image-eye" src="./dist/img/eye.png"></div><div class="current price">'+e.price+'</div><br><button class="button buy" data-name="'+e.name+'" data-amount="1" data-price="'+e.price+'" data-image="'+e.image_url+'" data-id="'+e.id+'" >Add</button></div>',t(),(g=document.getElementById("close-button2")).addEventListener("click",p),p()}})}})),$(document).on("click",".btn-plus",(function(e){var t=Number(e.target.parentElement.childNodes[1].innerHTML),n=0;t<100?(t=1+t,n=1):t=100,e.target.parentElement.childNodes[1].innerHTML=t;var i=Number(document.getElementById("cart_price").innerHTML)+Number(n),a=Number(document.getElementById("checkout").innerHTML)+Number(e.target.parentElement.parentElement.childNodes[3].innerHTML)*n;document.getElementById("cart_price").innerHTML=i,document.getElementById("checkout").innerHTML=a})),$(document).on("click",".btn-minus",(function(e){var t=Number(e.target.parentElement.childNodes[1].innerHTML);if(t>1?t-=1:t=0,0==t)for(var n in e.target.parentElement.parentElement.remove(),c)c[n].Name==e.target.parentElement.parentElement.childNodes[1].innerHTML&&c.splice(n,1);e.target.parentElement.childNodes[1].innerHTML=t;var i=Number(document.getElementById("cart_price").innerHTML)-Number(1),a=Number(document.getElementById("checkout").innerHTML)-Number(e.target.parentElement.parentElement.childNodes[3].innerHTML);document.getElementById("cart_price").innerHTML=i,document.getElementById("checkout").innerHTML=a}))}))}]);